<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang cá nhân</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../Modals/auth-modal.css">
    <link rel="stylesheet" href="profile.css">
</head>
<body>
    <header>
        <div class="nav">
            <nav class="nav_pc">
                <img class="nav-logo" src="../Logo.svg"></img>
                <ul class="nav_pc-list">
                    <li class="nav_pc-link"><a href="../index.html">Trang chủ</a></li>
                    <li class="nav_pc-link"><a href="../Học tập/tl.html">Học tập</a></li>
                    <li class="nav_pc-link"><a href="../Test/MBTI/index.html">Test</a></li>
                    <li class="nav_pc-link"><a href="../Thông tin/post.html">Thông tin</a></li>
                    <li class="nav_pc-link"><a href="#">Tư vấn</a></li>
                    <li class="nav_pc-link"><a href="../interview-main/pv/interview.html">Phỏng vấn</a></li>
                    <li class="nav_pc-link"><a href="../Liên hệ/lienhe.html">Liên hệ</a></li>
                    <li class="nav_pc-link" id="signupLink"><a href="#" id="showSignupModal">Đăng ký</a></li>
                    <li class="nav_pc-link" id="loginLink"><a href="#" id="showLoginModal">Đăng nhập</a></li>
                    <li class="nav_pc-link" id="userLogoContainer" style="display: none; position: relative;">
                        <img id="userLogo" src="" alt="User Logo" style="width: 30px; height: 30px; border-radius: 50%; cursor: pointer;">
                        <div id="userMenu">
                            <a href="./profile.html">Trang cá nhân</a>
                            <button id="logoutBtn">Đăng xuất</button>
                        </div>
                    </li>
                </ul>
            </nav>
            <label class="bar-btn" for="nav_MobileAndTablet-input">
                <img class="nav_bar-btn" src="../image/bar-button.png">
            </label>
            <input type="checkbox" hidden class="nav_input" id="nav_MobileAndTablet-input">
            <label for="nav_MobileAndTablet-input" class="nav_overlay"></label>
            <div class="nav_MobileAndTablet">
                <div class="menu">
                    <img class="nav-logo" src="../Logo.svg"></img>
                    <label class="bar-close" for="nav_MobileAndTablet-input">
                        <img class="nav_bar-close" src="../image/close.png">
                    </label>
                </div>
                <ul class="nav_MobileAndTablet-list">
                    <li class="nav_MobileAndTablet-link"><a href="../index.html">Trang chủ</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Học tập/tl.html">Học tập</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Test/index.html">Test</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Thông tin/index.html">Thông tin</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Chatbot Tư vấn Hướng nghiệp/templates/index.html">Tư vấn</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Chatbot Nhà tuyển dụng/templates/index.html">Phỏng vấn</a></li>
                    <li class="nav_MobileAndTablet-link"><a href="../Liên hệ/lienhe.html">Liên hệ</a></li>
                    <li class="nav_pc-link" id="signupLink"><a href="#" id="showSignupModal">Đăng ký</a></li>
                    <li class="nav_pc-link" id="loginLink"><a href="#" id="showLoginModal">Đăng nhập</a></li>
                </ul>
            </div>
        </div>
    </header>
        <!-- Login Modal -->
    <div id="loginModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close-modal">&times;</span>
            <h1>Đăng nhập</h1>
            <div id="login-error-message" class="error-message"></div>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email:</label>
                    <input type="email" id="login-email" name="email" required placeholder="Nhập địa chỉ email">
                </div>
                <div class="form-group">
                    <label for="login-password">Mật khẩu:</label>
                    <input type="password" id="login-password" name="password" required placeholder="Nhập mật khẩu">
                </div>
                <button type="submit" class="btn btn-primary">Đăng nhập</button>
            </form>
            <div class="separator">
                <span>Hoặc</span>
            </div>
            <button id="google-login-btn" class="btn btn-google">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512">
                    <path fill="currentColor" d="M488 261.8C488 403.3 381.5 512 244 512 110.3 512 0 401.7 0 261.8 0 122.1 105.3 8.4 244 8.4c69.1 0 128.8 27.3 174.2 68.1l-61.9 59.7C333.5 111.1 293.3 91.3 244 91.3c-74.6 0-134.9 60.8-134.9 135.9s60.3 135.9 134.9 135.9c83.2 0 111.1-61.1 114.6-88.9H244v-76.1h239.9c2.3 12.7 3.7 26.1 3.7 40.4z"/>
                </svg>
                Đăng nhập với Google
            </button>
            <div class="extra-links">
                <a href="#" id="switchToSignup">Tạo tài khoản mới</a>
                <span>|</span>
                <a href="#">Quên mật khẩu?</a>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close-modal">&times;</span>
            <h1>Đăng ký tài khoản</h1>
            <div id="signup-error-message" class="error-message"></div>
            <form id="signup-form">
                <div class="form-group">
                    <label for="signup-email">Email:</label>
                    <input type="email" id="signup-email" name="email" required placeholder="Nhập địa chỉ email">
                </div>
                <div class="form-group">
                    <label for="signup-password">Mật khẩu:</label>
                    <input type="password" id="signup-password" name="password" required placeholder="Tạo mật khẩu (ít nhất 6 ký tự)">
                </div>
                <div class="form-group">
                    <label for="confirm-password">Xác nhận mật khẩu:</label>
                    <input type="password" id="confirm-password" name="confirm-password" required placeholder="Nhập lại mật khẩu">
                </div>
                <button type="submit" class="btn btn-primary">Đăng ký</button>
            </form>
            <div class="separator">
                <span>Hoặc</span>
            </div>
            <button id="google-signup-btn" class="btn btn-google">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512">
                    <path fill="currentColor" d="M488 261.8C488 403.3 381.5 512 244 512 110.3 512 0 401.7 0 261.8 0 122.1 105.3 8.4 244 8.4c69.1 0 128.8 27.3 174.2 68.1l-61.9 59.7C333.5 111.1 293.3 91.3 244 91.3c-74.6 0-134.9 60.8-134.9 135.9s60.3 135.9 134.9 135.9c83.2 0 111.1-61.1 114.6-88.9H244v-76.1h239.9c2.3 12.7 3.7 26.1 3.7 40.4z"/>
                </svg>
                Tiếp tục với Google
            </button>
            <div class="extra-links">
                <span>Bạn đã có tài khoản?</span>
                <a href="#" id="switchToLogin">Đăng nhập ngay</a>
            </div>
        </div>
    </div>

    <main class="profile-page-container">
        <div class="profile-card">
            <h1>Trang cá nhân</h1>
            <div class="profile-content">
                <div class="profile-left">
                    <div class="profile-picture-section">
                        <img id="profile-avatar-img" src="../image/profile picture.jpg" alt="Ảnh đại diện">
                        <div class="action-links">
                            <a href="#" id="change-avatar-link">Thay ảnh đại diện</a>
                            <a href="#" id="update-profile-link">Cập nhật hồ sơ</a>
                            <a href="#" id="test-history-link">Lịch sử TEST</a>
                        </div>
                    </div>
                </div>
                <div class="profile-right">
                    <div class="profile-details">
                        <p><strong>Họ và tên:</strong> <span id="display-name">Chưa cập nhật</span></p>
                        <p><strong>Ngày tháng, năm sinh:</strong> <span id="display-dob">Chưa cập nhật</span></p>
                        <p><strong>Giới tính:</strong> <span id="display-gender">Chưa cập nhật</span></p>
                        <p><strong>Ngành nghề yêu thích:</strong> <span id="display-fav-career">Chưa cập nhật</span></p>
                        <p><strong>Định hướng nghề nghiệp:</strong> <span id="display-career-orientation">Chưa cập nhật</span></p>
                        <p><strong>Điểm mạnh:</strong> <span id="display-strengths" class="detail-block">Chưa cập nhật</span></p>
                        <p><strong>Điểm yếu:</strong> <span id="display-weaknesses" class="detail-block">Chưa cập nhật</span></p>
                        <p><strong>MBTI:</strong> <span id="display-mbti">Chưa cập nhật</span></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Update Profile Modal -->
    <div id="update-profile-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Hồ sơ Người dùng</h2>
            <form id="profile-form" novalidate>
                <div class="form-group">
                    <label for="fullname">Họ và tên:</label>
                    <input type="text" id="fullname" name="fullname" placeholder="Nhập họ và tên" required>
                </div>
                <div class="form-group form-group-date">
                    <label for="dob">Ngày tháng năm sinh:</label>
                    <input type="date" id="dob" name="dob" placeholder="dd/mm/yyyy" required>
                </div>
                <div class="form-group">
                    <label for="gender">Giới tính:</label>
                    <select id="gender" name="gender" required>
                        <option value="" disabled selected>-- Chọn giới tính --</option>
                        <option value="Nam">Nam</option>
                        <option value="Nữ">Nữ</option>
                        <option value="Khác">Khác</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="career">Ngành nghề yêu thích:</label>
                    <input type="text" id="career" name="career" placeholder="Nhập ngành nghề yêu thích">
                </div>
                <div class="form-group">
                    <label for="strengths">Điểm mạnh:</label>
                    <textarea id="strengths" name="strengths" placeholder="Nhập điểm mạnh của bạn" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="weaknesses">Điểm yếu:</label>
                    <textarea id="weaknesses" name="weaknesses" placeholder="Nhập điểm yếu của bạn" rows="4"></textarea>
                </div>
                <div class="form-group">
                    <label for="orientation">Định hướng nghề nghiệp:</label>
                    <input type="text" id="orientation" name="orientation" placeholder="Ví dụ: Trở thành chuyên gia AI">
                </div>
                <div class="form-group">
                    <label for="mbti">MBTI:</label>
                    <input type="text" id="mbti" name="mbti" placeholder="Ví dụ: INTJ, ENFP...">
                </div>
                <button type="submit" class="submit-button">Lưu hồ sơ</button>
            </form>
        </div>
    </div>

    <!--Modal lịch sử test-->
    <div id="test-history-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Lịch sử TEST</h2>
            <div id="test-history-content"></div>
        </div>
    </div>
    
    <footer>
        <div class="footer-bottom">
            <h3>CAREER COMPASS</h3>
        </div>
        <div class="footer-container">
            <div class="footer-column">
                <img src="../Logo.svg" alt="Logo" class="footer-logo">
            </div>
            <div class="footer-column">
                <h3>Thông tin liên hệ</h3>
                <p>Địa chỉ: 1A Nguyễn Hiến Lê, Phường 13, Tân Bình, Hồ Chí Minh</p>
                <p>Điện thoại: 090 695 0881</p>
                <p>Email: tuansu1561@gmail.com</p>
            </div>
            <div class="footer-column">
                <div class="links">
                    <a href="../index.html">Trang chủ</a>
                    <a href="../Học tập/tl.html">Học tập</a>
                    <a href="../Test/MBTI/index.html">Test</a>
                    <a href="../Thông tin/post.html">Thông tin</a>
                    <a href="#">Tư vấn</a>
                    <a href="../interview-main/pv/interview.html">Phỏng vấn</a>
                    <a href="../Liên hệ/lienhe.html">Liên hệ</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Copyright © 2025 CAREER COMPASS. All rights reserved.</p>
        </div>
    </footer>

    <script type="module" src="../Modals/auth-modal.js"></script>
    <script type="module" src="../auth.js"></script>
    <script type="module" src="./profile.js"></script>
</body>
</html>